# ZooKeeper

## zookeeper解决了什么问题

1、命名服务
2、配置管理
3、集群管理
4、分布式锁
5、队列管管

数据一致性

## zookeeper 数据结构

树形

持久化有序节点:创建业务中唯一id

持久化无序节点，

临时有序节点：生成分布式锁

，临时无序节点

内存型



## watcher

一次性的

 ## zab投票机制

### 恢复模式选出leader

第一轮投票都投自己，多台服务器间进行通信 重新投票

然后服务器id大的获得投票，事务czXid大的获得投票

### 广播模式



